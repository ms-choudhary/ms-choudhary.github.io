<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://ms-choudhary.github.io name=base><title>
            
                Terminal/Shell
            
        </title><meta content=Terminal/Shell property=og:title><link href=https://ms-choudhary.github.io/fonts.css rel=stylesheet><link media="(prefers-color-scheme: dark)" href=/syntax-theme-dark.css rel=stylesheet><link media="(prefers-color-scheme: light)" href=/syntax-theme-light.css rel=stylesheet><link title="
    Mohit Choudhary
" href=https://ms-choudhary.github.io/atom.xml rel=alternate type=application/atom+xml><link title="
    Mohit Choudhary
" href=https://ms-choudhary.github.io/rss.xml rel=alternate type=application/rss+xml><link href=https://ms-choudhary.github.io/theme/light.css rel=stylesheet><link href=https://ms-choudhary.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://ms-choudhary.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://ms-choudhary.github.io/main.css media=screen rel=stylesheet><body><div class=left-content></div><div class=content><nav><div class=left-nav><a href=https://ms-choudhary.github.io>Mohit Choudhary</a><div class=socials><a class=social href=https://www.linkedin.com/in/mohit-choudhary-32584939/ rel=me> <img alt=linkedin src=https://ms-choudhary.github.io/icons/social/linkedin.svg> </a><a class=social href=https://github.com/ms-choudhary rel=me> <img alt=github src=https://ms-choudhary.github.io/icons/social/github.svg> </a><a class=social href=/atom.xml rel=me> <img alt=rss src=https://ms-choudhary.github.io/icons/social/rss.svg> </a></div></div><div class=right-nav><a href=https://ms-choudhary.github.io/posts style=margin-right:.5em>/posts</a><a href=https://ms-choudhary.github.io/projects style=margin-right:.5em>/projects</a><a href=https://ms-choudhary.github.io/notes style=margin-right:.5em>/notes</a><a href=https://ms-choudhary.github.io/learn style=margin-right:.5em>/learn</a><a href=https://ms-choudhary.github.io/tags style=margin-right:.5em>/tags</a><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://ms-choudhary.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://ms-choudhary.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></div></nav><div data-selector="main article p" class=visible-element-observer-root><main><article><div class=title><div class=page-header>Terminal/Shell</div><div class=meta>Posted on <time>2024-09-24</time> :: Updated on <time>2025-09-28</time><span class=tags-label>::</span><span class=tags> <a class=post-tag href=https://ms-choudhary.github.io/tags/linux/>linux</a> </span></div></div><section class=body><h3 id=keyboard-shortcuts>Keyboard Shortcuts</h3><p><code>CTRL-A</code> = go to the begining of the line<br> <code>CTRL-E</code> = go to the end of the line<br> <code>CTRL-U</code> = delete everything till begining<br> <code>CTRL-K</code> = delete everyting till end<h3 id=job-control>Job control</h3><ul><li>disown - removes the job from list of running jobs, so it doesn't get killed when you exit the terminal</ul><h3 id=terminal>Terminal</h3><p>Terminal is a pair master and slave devices. Slave devices are like dumb clients without any intelligence just relaying what user types to the server and showing back the response.<p>Now when you type text on the terminal, it's relayed back to master device, which gives the information to program running. There're escape sequences to display text in bold or color, cursor movement etc. When you type <code>Ctrl-C</code> or <code>Ctrl-Z</code> it sends a ascii signal <code>\x03</code> and <code>26</code>. This is intercepted by kernel (and not userspace program like shell), and it sends <code>SIGINT</code> signal to process group in the terminal.<p>When the master device starts, it makes this sys call:<pre class=z-code><code><span class="z-text z-plain">syscall.Syscall(
</span><span class="z-text z-plain">    syscall.SYS_IOCTL,
</span><span class="z-text z-plain">    tty.Fd(),
</span><span class="z-text z-plain">    syscall.TIOCSWINSZ,
</span><span class="z-text z-plain">    uintptr(unsafe.Pointer(&resizeMessage)),
</span><span class="z-text z-plain">)
</span></code></pre><p>this calls the ioctl system call. To check terminal parameters, you can type:<pre class=z-code><code><span class="z-text z-plain">stty -a
</span><span class="z-text z-plain">
</span><span class="z-text z-plain">or
</span><span class="z-text z-plain">
</span><span class="z-text z-plain">tputs cols # for columns 
</span></code></pre><p>when you change the window size of the terminal, kernel sends a signal <code>SIGWINCH</code> which resets the stty cols etc. The side effect of this not being correctly set will result in overwriting of text of same line and not changing to next line on inputting long text in the terminal.</section></article></main></div></div><div class=right-content></div>